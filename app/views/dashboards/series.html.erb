<% title("Dashboard - #{community_name}") %>

<main id="index-container"
    data-params="<%= params.to_json(only: %i[which per_page]) %>"
    data-which="followers">
  <header class="crayons-layout">
    <h1 class="p-2 pb-0 m:p-0">Dashboard &raquo; Series</h1>
    <%= render "actions_mobile" %>
  </header>

  <div class="crayons-layout crayons-layout--2-cols">
    <aside class="crayons-layout__sidebar-left">
      <%= render "actions" %>
    </aside>

    <div class="crayons-layout__content">
      <% if @collections.any? %>
        <div class="flex items-center justify-between mb-3">
          <h2 class="hidden m:block fs-l fw-heavy">Series</h2>
        </div>

        <div class="crayons-card mb-6">
          <% @collections.each_with_index do |collection, i| %>
              <% if collection.slug.present? %>
                <p>
                  <a
                    href="<%= collection.articles.first.path %>">
                    <%= collection.slug %> (<%= collection.articles.count %> Part Series)
                  </a>
                </p>
              <% else %>
                <p>
                  <a
                    href="<%= collection.articles.first.path %>">
                    <%= collection.articles.count %> Part Series
                  </a>
                </p>
              <% end %>
          <% end %>
        </div>
      <% else %>
        <div class="p-9 crayons-card crayons-card--secondary align-center fs-l">You don't have any followers yet...</div>
      <% end %>
    </div>
  <div>
</main>
